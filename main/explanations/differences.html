<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>RHEL7 native vs dev-c7 &mdash; dev-c7 2.0.0-112-g9f5b22b
 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/dls-favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=18bb62c8"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Purpose of the dev-c7 Container" href="why_dev_c7.html" />
    <link rel="prev" title="How the dev-c7 Container Works" href="how_it_works.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: rgb(7, 43, 93)" >

          
          
          <a href="../index.html" class="icon icon-home">
            dev-c7
              <img src="../_static/dls-logo.svg" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                main
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/continue.html">More Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/vscode.html">VSCode Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/prompt.html">Bash Prompt in dev-c7</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">How-to Guides</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../how-to/containers.html">Managing Containers and Images on a Workstation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/containers.html#defining-a-container-image">Defining a Container Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/deriving.html">Derive your own container image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../how-to/podman.html">Updating Podman Settings</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Explanations</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="how_it_works.html">How the dev-c7 Container Works</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">RHEL7 native vs dev-c7</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#centos-vs-rhel7">Centos vs RHEL7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#user-ids">User IDs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#no-services">No Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="why_dev_c7.html">Purpose of the dev-c7 Container</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../reference/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/dls-controls/dev-c7/releases">Releases</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: rgb(7, 43, 93)" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">dev-c7</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">RHEL7 native vs dev-c7</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/explanations/differences.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="rhel7-native-vs-dev-c7">
<h1>RHEL7 native vs dev-c7<a class="headerlink" href="#rhel7-native-vs-dev-c7" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">dev-c7</span></code> container attempts to emulate the same environment and file systems
that a DLS RHEL7 workstation sees. Inevitably there are a few differences
which are documented on this page.</p>
<section id="centos-vs-rhel7">
<h2>Centos vs RHEL7<a class="headerlink" href="#centos-vs-rhel7" title="Link to this heading"></a></h2>
<p>This container is based upon a Centos 7 image rather than a RHEL7 image
because of complicated licensing for RHEL7 containers. In almost all
respects this should make little difference because both OSes have the
same packages available to them.</p>
<p>Any code that queries the OS name will get a different answer. This affects
dls-release.py because it uses the OS name to choose the default RHEL version
to release to. However this has been patched to accept Centos 7 to mean
a release for RHEL7.</p>
<p>We are not aware of any other DLS tools affected by this at present.</p>
</section>
<section id="user-ids">
<h2>User IDs<a class="headerlink" href="#user-ids" title="Link to this heading"></a></h2>
<p>Inside of the container there are only two interactive users. Your own user
and root. <code class="docutils literal notranslate"><span class="pre">c7</span></code> uses <code class="docutils literal notranslate"><span class="pre">--userns=keep-id</span></code> so that your same user id
is used inside and outside of the container.</p>
<p>Hence the container is able to see the file ownership of mounted file systems
as long as they belong to root or to you.</p>
<p>No other users are known to it and when listing the contents of
a shared directory any files that have unknown user group membership will
show up as uid or gid 65534.</p>
<p>This does not affect your ability to write to files that have permission for
your secondary group. So files with group write for the dcs account will
be writeable. Unfortunately you will not be able to tell they are writeable
by using ls -l because the dcs group is unknown inside the container.</p>
<p>e.g.</p>
<pre><font color="#64BA12">(master) </font>[<font color="#6491CB">hgv27681@dev-c7</font> etc]$ pwd
/dls_sw/work/R3.14.12.7/support/BL16I-BUILDER/etc
<font color="#64BA12">(master) </font>[<font color="#6491CB">hgv27681@dev-c7</font> etc]$ &gt; giles-wrote-this.txt
<font color="#64BA12">(master) </font>[<font color="#6491CB">hgv27681@dev-c7</font> etc]$ ls -l
total 24
-rw-rw-r--. 1 hgv27681 65534     0 Jun 24 10:25 giles-wrote-this.txt
-rwxrwxr-x. 1    65534 65534  1018 Feb 21  2019 <font color="#8AE234"><b>home_pa_slits.py</b></font>
-rw-rw-r--. 1    65534 65534   269 Feb 21  2019 Makefile
drwxrwsr-x. 5    65534 65534 16384 Jun 13 16:41 <font color="#729FCF"><b>makeIocs</b></font>
-rw-rw-r--. 1    65534 65534    29 Feb 21  2019 module.ini
</pre></section>
<section id="no-services">
<h2>No Services<a class="headerlink" href="#no-services" title="Link to this heading"></a></h2>
<p>By default a container runs a single process (of id 1) and terminates when
that process terminates. <code class="docutils literal notranslate"><span class="pre">c7</span></code> launches a background process
that does nothing as process 1 and
then executes any number of interactive shells inside of it.</p>
<p>Although you
have the filesystem of a Centos 7 workstation inside the
container, by design it is not an entire virtual machine.</p>
<p>Therefore none of the usual services will be running inside of the container.
For example any apps that wish to communicate over DBus will not find the DBus
service.</p>
<p>So far this has not affected any DLS development workflow. It may be possible
to launch services inside the container if they prove to be essential.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="how_it_works.html" class="btn btn-neutral float-left" title="How the dev-c7 Container Works" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="why_dev_c7.html" class="btn btn-neutral float-right" title="Purpose of the dev-c7 Container" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
   
  <div id="other-versions-div" class="rst-versions" data-toggle="rst-versions" role="note" aria-label="Versions" style="visibility: hidden">
    <span class="rst-current-version" data-toggle="rst-current-version">
      <span class="fa fa-book"> Other Versions</span>
      main
      <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
      <dl id="other-versions-dl"/>
    </div>
  </div>
  <script>
    function addVersion(name) {
      var dd = document.createElement("dd");
      var a = document.createElement("a");
      a.href = "../../" + name;
      a.innerText = name;
      dd.appendChild(a);
      document.getElementById('other-versions-dl').appendChild(dd);
    }
    // Get versions.txt and add a version for each line
    fetch("../../versions.txt").then(response => {
      if (response.ok) {
        document.getElementById('other-versions-div').style.visibility = "visible";
        return response.text().then(text => text.split(/\r?\n/).forEach(addVersion))
      }
    });
  </script>


</body>
</html>